### 5.2.2 라우팅(라우터가 경로 정보를 얻는 방법)

-   라우터가 경로 정보를 얻는 방법은 3가지로 크게 구분
    -   다이렉트 커넥티드
    -   스태틱 라우팅
    -   다이나믹 라우팅

#### 5.2.2.1 다이렉트 커넥티드

-   IP 주소를 입력할 때 사용된 IP 주소와 서브넷 마스크로 해당 IP 주소가 속한 네트워크 주소 정보를 알 수 있음
-   라우터나 PC에서는 이 정보로 해당 네트워크에 대한 라우팅 테이블을 자동으로 만듬
-   이 경로 정보를 다이렉트 커넥티드라고 부름

#### 5.2.2.2 스태틱 라우팅

-   관리자가 목적지 네트워크와 넥스트 홉을 라우터에게 직접 지정해 경로 정보를 입력하는 것
-   관리자가 경로를 직접 지정하므로 라우팅 정보를 매우 직관적으로 설정, 관리할 수 있음

#### 5.2.2.3 다이나믹 라우팅

-   스태틱 라우팅은 관리자가 변화가 적은 네트워크에서 네트워크를 손쉽게 관리할 수 있는 좋은 방법이지만 큰 네트워크는 스태틱 라우팅만으로는 관리가 어려움
-   다이나믹 라우팅은 라우터끼리 자신이 알고 있는 경로 정보나 링크 상태 정보를 교환해 전체 네트워크 정보를 학습
-   주기적으로 또는 상태 정보가 변경될 때 라우터끼리 경로 정보가 교환되므로 라우터를 연결하는 회선이나 라우터 자체에 장애가 발생하면 이 상황을 인지해 대체 경로로 패킷을 포워딩

### 5.2.3 스위칭(라우터가 경로를 지정하는 방법)

-   패킷이 들어와 라우팅 테이블을 참조하고 최적의 경로를 찾아 라우터 외부로 포워딩하는 작업을 스위칭이라고 함
-   한번 스위칭 작업을 수행한 정보는 캐시에 저장하고 뒤에 들어오는 패킷은 라우팅 테이블을 확인하는 것이 아니라 캐시를 먼저 확인
-   단순히 목적지 IP만 캐시하는 경우와 출발지와 목적지 IP 모두 캐시하는 경우, 포트 번호 정보까지 포함해 플로를 모두 저장하는 경우로 구분
-   넥스트 홉 L2 정보까지 캐시해 스위칭 시간을 줄이는 기법도 사용

### 5.2.4 라우팅 스위칭 우선순위

-   목적지 네트워크 정보가 동일한 서브넷을 사용하는 경우, 정보를 얻은 소스에 따라 가중치를 정함
    -   내가 갖고 있는 네트워크(다이렉트 커넥트)
    -   내가 경로를 직접 지정한 네트워크(스태틱 라우팅)
    -   경로를 전달받은 네트워크(다이나믹 라우팅)
-   3가지 경로 수집 방법 중 우선순위가 가장 높은 것은 라우터에 바로 연결된 네트워크
-   다음은 관리자가 목적지 네트워크에 대한 경로를 직접 지정하는 스태틱 라우팅
-   마지막으로 라우팅 프로토콜로부터 경로를 전달받은 네트워크
-   패킷을 스위칭할 때는 롱기스트 프리픽스 매치 기법으로 우선수위를 정함
-   롱기스트 프리픽스 매치는 가려는 목적지와 가장 유사한 라우팅 경로를 선택하는 알고리짐

## 5.3 라우팅 설정 방법

### 5.3.1 다이렉트 커넥티드

-   라우터나 PC에 IP 주소, 서브넷 마스크를 입력하면 다이렉트 커넥티드 라우팅 테이블이 생성
-   커넥티드 라우팅 정보만 있는 경우 뿐만 아니라 외부 네트워크에 대한 라우팅 정보가 있더라도 다이렉트 커넥티드 정보를 잘못 입력하면 외부 네트워크와 통신할 수 없음
-   외부 네트워크로 나가는 첫 번째 길목이 다이렉트 커넥트이기 때문

### 5.3.2 스태틱 라우팅

-   네트워크 정보를 쉽게 추가하고 경로를 직접 제어할 수 있는 가장 강력한 방법

### 5.3.3 다이나믹 라우팅

-   다이나믹 라우팅 프로토콜을 사용하면 관리자의 직접적인 개입 없이 라우터끼리 정보를 교환해 경로 정보를 최신으로 유지
